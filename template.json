{  
   "Resources":{  
     "AMIIDLookup": {
  "Type": "AWS::Lambda::Function",
  "Properties": {
    "Handler": "index.handler",
    "Role": { "Fn::GetAtt" : ["LambdaExecutionRole", "Arn"] },
    "Code":
     {
  "S3Bucket" : { "Fn::GetArtifactAtt" : ["LambdaFunctionSource", "BucketName"]},
  "S3Key" : { "Fn::GetArtifactAtt" : ["LambdaFunctionSource", "ObjectKey"]}
},
    "Runtime": "nodejs4.3",
    "Timeout": "25"
  }
},
      "CounterTable":{  
         "Type":"AWS::Serverless::SimpleTable",
         "Properties":{  
            "PrimaryKey":{  
               "Name":"id",
               "Type":"String"
            },
            "ProvisionedThroughput":{  
               "ReadCapacityUnits":5,
               "WriteCapacityUnits":5
            }
         }
      }
   },
   "Outputs":{  
      "bucket":{  
         "Value":{  
            "Fn::GetArtifactAtt":[  
               "MyAppBuild",
               "BucketName"
            ]
         }
      },
      "ObjectKey":{  
         "Value":{  
            "Fn::GetArtifactAtt":[  
               "MyAppBuild",
               "ObjectKey"
            ]
         }
      },
      "URL":{  
         "Value":{  
            "Fn::GetArtifactAtt":[  
               "MyAppBuild",
               "URL"
            ]
         }
      }
   }
}
