{
   "Parameters":{
        "myBucket": { "Fn::GetArtifactAtt" : ["MyAppBuild", "BucketName"]},
         "MyS3Key": { "Fn::GetArtifactAtt" : ["MyAppBuild", "ObjectKey"]}
   },
   "Resources":{  
     "AMIIDLookup": {
  "Type": "AWS::Lambda::Function",
  "Properties": {
    "Handler": "index.handler",
    "Code":
     {
  "S3Bucket" : {"Ref": "myBucket"} ,
  "S3Key" : {"Ref": "MyS3Key"}
},
    "Runtime": "nodejs4.3",
    "Timeout": "25"
  }
},
      "CounterTable":{  
         "Type":"AWS::Serverless::SimpleTable",
         "Properties":{  
            "PrimaryKey":{  
               "Name":"id",
               "Type":"String"
            },
            "ProvisionedThroughput":{  
               "ReadCapacityUnits":5,
               "WriteCapacityUnits":5
            }
         }
      }
   }
}
